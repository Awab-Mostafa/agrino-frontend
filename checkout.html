<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vodafone Cash Payment</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Google Fonts and Boxicons -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <style>
      /* Additional styling for the payment page */
      .checkout-item {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        border: 1px solid #ccc;
        padding: 1rem;
        margin: 1rem 0;
      }
      .checkout-item img {
        width: 100px;
        height: auto;
        margin-right: 1rem;
      }
      .checkout-details {
        text-align: left;
      }
      /* تعديل تنسيق نموذج الدفع */
      form#payment-form {
        background: transparent; /* إزالة الخلفية البيضاء */
        padding: 1.5rem;
        /* إزالة الظل والفريم الأبيض */
        max-width: 500px;
        margin: 0 auto;
        text-align: left;
      }
      form#payment-form .input-box {
        margin-bottom: 1rem;
      }
      form#payment-form label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
        color: #fff; /* تسميات باللون الأبيض */
        font-size: 1.2rem; /* تكبير النص */
      }
      form#payment-form input {
        width: 100%;
        padding: 0.5rem;
        background-color: #3A7D5C; /* اللون الأخضر للمستطيلات */
        border: none;
        border-radius: 0.3rem;
        color: #fff; /* نص باللون الأبيض */
        font-size: 1.1rem; /* تكبير النص داخل الحقول */
      }
      form#payment-form h3 {
        color: #fff;
        font-size: 1.6rem; /* تكبير عنوان النموذج */
        margin-bottom: 1rem;
      }
      /* تكبير نص العناوين العامة */
      .heading {
        font-size: 2.5rem;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <a href="index.html" class="logo">Our <span>Project</span></a>
      <nav class="navbar">
        <a href="index.html#home">Home</a>
        <a href="index.html#about">About</a>
        <a href="index.html#services">SDGs</a>
        <a href="index.html#projects">Previous Solutions</a>
        <a href="index.html#ourteam">Our Team</a>
      </nav>
      <div class="header-buttons">
        <button class="gradient-btn">
          <a href="index.html#contact" class="gradient-btn">Contact Us</a>
        </button>
      </div>
    </header>

    <!-- Vodafone Cash Payment Section -->
    <section class="checkout-section" style="padding-top: 10rem; text-align: center;">
      <h2 class="heading">Vodafone Cash Payment</h2>
      
      <!-- Container to display the selected products with images and full price details -->
      <div id="payment-details">
        <!-- Products will be dynamically injected here -->
      </div>
      
      <!-- Container to display the total amount -->
      <div id="total-section" style="margin-top: 2rem;">
        <!-- Total amount will be shown here -->
      </div>
      
      <!-- Payment details form -->
      <form id="payment-form" style="margin-top: 3rem;">
        <h3>Payment Details</h3>
        <div class="input-box">
          <label for="name">Name:</label>
          <input type="text" id="name" placeholder="Enter your name" required />
        </div>
        <div class="input-box">
          <label for="phone">Phone Number:</label>
          <input type="text" id="phone" placeholder="Enter your phone number" required />
        </div>
        <div class="input-box">
          <label for="address">Address:</label>
          <input type="text" id="address" placeholder="Enter your address" required />
        </div>
        <div class="input-box">
          <label for="vodafone-number">Vodafone Cash Number:</label>
          <input type="text" id="vodafone-number" placeholder="Enter your Vodafone Cash number" required />
        </div>
        <!-- تمت إزالة حقل الـ PIN -->
        <button type="submit" class="card-btn" style="margin-top: 1rem;">Confirm Payment</button>
      </form>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 2025 Jonathan. All Rights Reserved.</p>
    </footer>
    
    <script>
      // Function to display the payment details with product images and calculated totals
      function displayPaymentDetails() {
        const paymentContainer = document.getElementById("payment-details");
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
        let html = "";
        let total = 0;
        
        if (cartItems.length === 0) {
          html = "<p style='font-size: 2rem; text-align: center; color: #fff;'>No items in cart</p>";
        } else {
          cartItems.forEach((item) => {
            const itemTotal = item.price * item.quantity;
            total += itemTotal;
            html += `
              <div class="checkout-item">
                <img src="${item.image}" alt="${item.name} Image">
                <div class="checkout-details">
                  <h3>${item.name}</h3>
                  <p>${item.description}</p>
                  <p class="price">Price: ${item.price} EGP x ${item.quantity} = ${itemTotal} EGP</p>
                </div>
              </div>
            `;
          });
        }
        
        paymentContainer.innerHTML = html;
        // Display the total amount
        document.getElementById("total-section").innerHTML = `<h2 style="color:#fff;">Total: ${total} EGP</h2>`;
      }
      
      // Call displayPaymentDetails on page load
      window.addEventListener("DOMContentLoaded", displayPaymentDetails);
      
      // Payment form submission handler
      document.getElementById("payment-form").addEventListener("submit", function (e) {
        e.preventDefault();
        // Retrieve form values
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const address = document.getElementById("address").value;
        const vodafoneNumber = document.getElementById("vodafone-number").value;
        
        // Here you can add additional processing for payment, e.g., API calls, validations, etc.
        // For demonstration, we show an alert with the collected information.
        alert(`Payment confirmed!
Name: ${name}
Phone: ${phone}
Address: ${address}
Vodafone Cash Number: ${vodafoneNumber}`);
        
        // Optionally, clear the cart and redirect the user after payment confirmation
        localStorage.removeItem("cartItems");
        window.location.href = "index.html";
      });
    </script>
  </body>
</html>
